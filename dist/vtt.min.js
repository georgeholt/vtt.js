/* vtt.js - v0.13.0 (https://github.com/mozilla/vtt.js) built on 05-03-2019 */
!function(a){function b(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}function c(a,c,d){var e=this,f=/MSIE\s8\.0/.test(navigator.userAgent),g={};f?e=document.createElement("custom"):g.enumerable=!0,e.hasBeenReset=!1;var h="",i=a,j=c,k=d;if(Object.defineProperty(e,"id",b({},g,{get:function(){return h},set:function(a){h=""+a}})),Object.defineProperty(e,"startTime",b({},g,{get:function(){return i},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");i=a,this.hasBeenReset=!0}})),Object.defineProperty(e,"endTime",b({},g,{get:function(){return j},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");j=a,this.hasBeenReset=!0}})),Object.defineProperty(e,"text",b({},g,{get:function(){return k},set:function(a){k=""+a,this.hasBeenReset=!0}})),e.displayState=void 0,f)return e}c.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},a.VTTCue=a.VTTCue||c}(this),function(a){function b(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function c(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function d(a,d,e){function f(){var d=c(a);if(null===d)throw new b(b.Errors.BadTimeStamp,"Malformed timestamp: "+h);return a=a.replace(/^[^\sa-zA-Z-]+/,""),d}function g(){a=a.replace(/^\s+/,"")}var h=a;if(g(),d.startTime=f(),g(),"--\x3e"!==a.substr(0,3))throw new b(b.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+h);a=a.substr(3),g(),d.endTime=f(),g()}function e(a,b){function d(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]+>?)?/);return a(c[1]?c[1]:c[2])}function e(a){return h[a]}function f(a){for(;s=a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)a=a.replace(s[0],e);return a}function g(a,b){return!k[b.localName]||k[b.localName]===a.localName}function l(b,c){var d=i[b];if(!d)return null;var e=a.document.createElement(d);e.localName=d;var f=j[b];return f&&c&&(e[f]=c.trim()),e}for(var m,n=a.document.createElement("div"),o=n,p=[];null!==(m=d());)if("<"!==m[0])o.appendChild(a.document.createTextNode(f(m)));else{if("/"===m[1]){p.length&&p[p.length-1]===m.substr(2).replace(">","")&&(p.pop(),o=o.parentNode);continue}var q,r=c(m.substr(1,m.length-2));if(r){q=a.document.createProcessingInstruction("timestamp",r),o.appendChild(q);continue}var s=m.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!s)continue;if(!(q=l(s[1],s[3])))continue;if(!g(o,q))continue;s[2]&&(q.className=s[2].substr(1).replace("."," ")),p.push(s[1]),o.appendChild(q),o=q}return n}function f(){}var g=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();b.prototype=g(Error.prototype),b.prototype.constructor=b,b.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};var h={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},i={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},j={v:"title",lang:"lang"},k={rt:"ruby"};f.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},f.convertCueToDOMTree=function(a,b){return a&&b?e(a,b):null},f.Parser=function(a,b){this.window=a,this.state="INITIAL",this.buffer="",this.decoder=b||new TextDecoder("utf8"),this.regionList=[]},f.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof b))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function c(){for(var a=e.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,e.buffer=a.substr(b),c}var e=this;a&&(e.buffer+=e.decoder.decode(a,{stream:!0}));try{var f;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;f=c();var g=f.match(/^WEBVTT([ \t].*)?$/);if(!g||!g[0])throw new b(b.Errors.BadSignature);e.state="HEADER"}for(var h=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(h?h=!1:f=c(),e.state){case"HEADER":case"NOTE":f||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(f)){e.state="NOTE";break}if(!f)continue;if(e.cue=new e.window.VTTCue(0,0,""),e.state="CUE",-1===f.indexOf("--\x3e")){e.cue.id=f;continue}case"CUE":try{d(f,e.cue,e.regionList)}catch(a){e.reportOrThrowError(a),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var i=-1!==f.indexOf("--\x3e");if(!f||i&&(h=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=f;continue;case"BADCUE":f||(e.state="ID");continue}}}catch(a){e.reportOrThrowError(a),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new b(b.Errors.BadSignature)}catch(b){a.reportOrThrowError(b)}return a.onflush&&a.onflush(),this}},a.WebVTT=f}(this);